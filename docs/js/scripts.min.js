(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var ModusOperandi = exports.ModusOperandi = function () {
  function ModusOperandi() {
    var _this = this;

    _classCallCheck(this, ModusOperandi);

    this.menuIndex = 0;

    var workContents = this.getAll('.modus-operandi .content');
    var workItems = this.getAll('.modus-operandi .content-item');
    var menuItems = this.getAll('.modus-operandi .header-item');
    var slider = this.get('.modus-operandi .header-slider');

    this.addClickHandler(workItems, function (event) {
      var subset = [].filter.call(workItems, function (item) {
        return workContents[_this.menuIndex].contains(item);
      });
      _this.toggleActive(subset, event.currentTarget);
    });

    this.addClickHandler(menuItems, function (event) {
      _this.toggleActive(menuItems, event.currentTarget);
      _this.moveSlider(slider, event.currentTarget);
      var index = [].findIndex.call(menuItems, function (item) {
        return item.classList.contains('active');
      });
      _this.toggleActive(workContents, workContents[index]);
      _this.menuIndex = index;
    });
  }

  _createClass(ModusOperandi, [{
    key: 'addClickHandler',
    value: function addClickHandler(items, callback) {
      [].forEach.call(items, function (item) {
        item.addEventListener('click', callback);
      });
    }
  }, {
    key: 'toggleActive',
    value: function toggleActive(items, activeItem) {
      [].forEach.call(items, function (item) {
        item.classList.toggle('active', item === activeItem);
        item.classList.toggle('inactive', item !== activeItem);
      });
    }
  }, {
    key: 'moveSlider',
    value: function moveSlider(slider, target) {
      var targetRect = target.getBoundingClientRect();
      slider.style.width = targetRect.width + 24 + 'px';
      slider.style.left = target.offsetLeft - 12 + 'px';
    }

    //////// helpers //////////

  }, {
    key: 'get',
    value: function get(selector) {
      return document.querySelector(selector);
    }
  }, {
    key: 'getAll',
    value: function getAll(selector) {
      return document.querySelectorAll(selector);
    }
  }]);

  return ModusOperandi;
}();

},{}],2:[function(require,module,exports){
'use strict';

var _modusOperandi = require('../components/modus-operandi');

var intro = document.querySelectorAll('.intro');
[].forEach.call(intro, function (el, index) {
  setTimeout(function () {
    el.classList.add('intro-show');
    el.style.transitionDelay = index * 0.4 + 1 + 's';
  });
});

// fix safari label bug with empty function
document.querySelectorAll('label').onClick = function () {
  return false;
};

new _modusOperandi.ModusOperandi();

},{"../components/modus-operandi":1}]},{},[2]);
